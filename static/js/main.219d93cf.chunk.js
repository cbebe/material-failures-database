(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{217:function(e,t,a){e.exports=a(473)},447:function(e,t,a){},473:function(e,t,a){"use strict";a.r(t);a(218),a(267),a(447);var n,i=a(0),r=a.n(i),o=a(214),l=a.n(o),s=a(17),c=a(39),u=a.n(c),m=a(56),d=a(33),p={viewer:"fa-viewer",referenceList:{list:"fa-reference-list",reference:"fa-reference"},visibility:{on:"fa-visibility-on",off:"fa-visibility-off"},caseStudyLink:"fa-case-study-link",recordLink:"fa-record-link",displayItem:"fa-display-item",displayImage:"fa-display-image",mainHeader:"fa-main-header",loading:"fa-loading"},h="fa-record",g="fa-title",b="fa-module",f="fa-submodule",y="fa-module-header",v="fa-submodule-header",_="fa-line",E="fa-li-lines",j="fa-ul-lines",x="fa-case-study",C={wrapper:"fa-download-wrapper",button:"fa-download-button"},k={on:"fa-visibility-on",off:"fa-visibility-off"},O={page:"fa-pagination",next:"fa-pagination-next",prev:"fa-pagination-prev"},w={wrapper:"fa-landing-wrapper",page:"fa-landing-page",title:"fa-landing-title",caseTitle:"fa-landing-case-title",caseNumber:"fa-landing-case-number",status:"fa-landing-status",logo:"fa-landing-logo"},N={wrapper:"fa-photo-evidence-wrapper",page:"fa-photo-evidence-page",title:"fa-photo-evidence-title"},T={wrapper:"fa-background-research-wrapper",page:"fa-background-research-page",title:"fa-background-research-title"},P={wrapper:"fa-prompt-wrapper",page:"fa-prompt-page",header:"fa-prompt-header",object:"fa-prompt-object",material:"fa-prompt-material",processing:"fa-prompt-processing",environment:"fa-prompt-environment",use:"fa-prompt-use",module:"fa-prompt-module",button:"fa-prompt-button",title:"fa-prompt-title",textarea:"fa-prompt-textarea",textareaInput:"fa-prompt-textarea-input",note:"fa-prompt-note",optionLabel:"fa-prompt-option-label",radio:"fa-prompt-radio-button",radioInput:"fa-prompt-radio-input",radioGroup:"fa-prompt-radio-group",pairedRadioGroup:"fa-prompt-paired-radio-group",checkbox:"fa-prompt-checkbox",checkboxInput:"fa-prompt-checkbox-input",checkboxGroup:"fa-prompt-checkbox-group",additionalPrompt:"fa-prompt-additional-prompt"},A=a(57),S=a.n(A),M=a(58),V="Case Study",R="Record",D="Material Failures Database",K={object:"Object Properties",material:"Material",processing:"Processing",environment:"Environmental Interactions",use:"Use Case and History"},L=(n={rating:"Rating",inscription:"Inscription",serial_number:"Serial Number",feature:"Features",alloy_designation:"Alloy Designation",type:"Type",grade:"Grade",full_name:"Full Name",class:"Class",crystallinity:"Crystallinity",biodegradibility:"Biodegradibility",recyclability:"Recyclability",toxicity:"Toxicity",manufacturer:"Manufacturer",date:"Manufacturing Date",location:"Manufacturing Location",plant:"Manufacturing Plant",treatment:"Treatment Procedures",joining:"Joining Procedures",machining:"Machining Procedures",shaping:"Shaping Procedures",residual_stress:"Residual Stresses",ambient:"Ambient Factors",light_exposure:"Light Exposure",geographic_location:"Geographic Location",weather_exposure:"Weather Exposure"},Object(s.a)(n,"location","Storage Location"),Object(s.a)(n,"stress_orientation","Orientation of Stresses"),Object(s.a)(n,"loading","Loading"),Object(s.a)(n,"loading_frequency","Loading Frequency"),Object(s.a)(n,"problem_statement","Problem Statement"),Object(s.a)(n,"functionality_loss","Loss of Functionality"),Object(s.a)(n,"failure_date","Date of Failure"),Object(s.a)(n,"failure_time","Time of Failure"),Object(s.a)(n,"operation_stage","Stage of Operation During Failure"),Object(s.a)(n,"specification","Specifications"),Object(s.a)(n,"record","Records"),Object(s.a)(n,"operation","Operation Status"),Object(s.a)(n,"operator_name","Operator"),Object(s.a)(n,"operational_factor","Operational Factors"),n),G="https://joleneborrelli-uofa.github.io",I=a(69);function F(){var e=Object(i.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],o=Object(i.useState)("on"),l=Object(d.a)(o,2),s=l[0],c=l[1];Object(i.useEffect)((function(){h()}),[]);var h=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.a.get("http://localhost:4001/api/display").then((function(e){g(e.data),c("off")})).catch((function(e){console.error("Error getting display list: ".concat(e))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){var t;t=e.map((function(e,t){var a=e.object_id,n=e.case_study,i=e.record,o=e.thumbnail,l=G+o,s="/case-study/".concat(a),c="/record/".concat(a),u="".concat(p.caseStudyLink," ").concat(p.visibility[n]),m="".concat(p.recordLink," ").concat(p.visibility[i]);return r.a.createElement("li",{key:t,className:p.displayItem},r.a.createElement("img",{className:p.displayImage,src:l}),r.a.createElement(I.b,{className:u,to:s},V),r.a.createElement(I.b,{className:m,to:c},R))})),n(t)},b="".concat(p.visibility[s]," ").concat(p.loading);return r.a.createElement("div",null,r.a.createElement("h2",{className:p.mainHeader},D),r.a.createElement("p",{className:b},"Loading. Please wait..."),r.a.createElement("ul",null,a))}var W={add:"Add",next:"Next",prev:"Prev",note:"Notes",download:"Download",pages:["landing","photo","background","prompt"],landing:{title:"You've been assigned the following case",caseTitle:function(e){return"The ".concat(e," Files")},caseNumber:function(e){return"Case #: ".concat(e)},status:"Status:"},photoEvidenceTitle:"A failure occurs! On ".concat(new Date,", you arrive at the scene with your handy field investigation kit and take out your camera."),photoEvidenceSubtitle:"This is the visual evidence you collect.",backgroundResearchTitle:"You head back to the office. To collect background research, you access literature, go online, make phone calls and write emails.",backgroundResearchSubtitle:"This is the data you find.",promptsTitle:"The photos...the background research...How does it all add up? You put on your detective's cap and get to work.",fieldPrompts:{object:{rating:"",inscription:"Are there any inscriptions on the object? What do they tell you about the object?",feature:"What physical features are there on the object?",serial_number:""},material:{full_name:"What is the object made of?",crystallinity:"What kind of crystal structure does the material have?",class:"What material family does it belong to?",recyclability:"Is the object recyclable? Does the recyclability tell you something about the material?",biodegradability:"",alloy_designation:"",grade:"",toxicity:""},processing:{treatment:"What treatment procedures did the object have?",shaping:"What shaping procedures did the object have?",machining:"What machining procedures did the object have?",joining:"What joining procedures did the object have?",residual_stress:"What kind of residual stresses could have been introduced during processing? Did the physical features on the object play a role? What kind of forces could have been created in the object from the residual stresses?",manufacturer:"",date:"",location:"",plant:""},environment:{loading:"What type of loading did the object experience? How frequent did it occur?",ambient:"",light_exposure:"",geographic_location:"",stress_orientation:"",weather_exposure:"",storage_location:""},use:{functionality_loss:"What functionality was lost when the object failed?",operational_factor:"Which factors played a part in the object\u2019s failure during operation or maintenance?",problem_statement:"",failure_time:"",failure_operation_stage:"",specification:"",record:"",operation:"",operator:""}},additionalPrompts:{fractography:"Does the object have cracks and fractures? Draw the object, the cracks and the fractures. Determine the crack and fracture origin(s)."},fault_tree:{fault_tree_title:"With the information you gathered you make a fault tree.",fault_tree_description:"First, decide which generic factors make up the top levels of the fault tree. Then, find specific factors based on the possible mechanisms of failure."}},B=a(85),H=["feature","machining","joining","light_exposure","ambient","weather_exposure","storage_location","specification","record","operation","operational_factor"],z=["class","class_subtype","treatment","treatment_subtype","shaping","shaping_subtype","residual_stress","residual_stress_force","loading","loading_normalcy"],U=["class_button","treatment_button","shaping_button","residual_stress_button","loading_button"],q=["object","material","environment","processing","use"],J=function(){var e=Object(M.random)(0,1e6);return"".concat(e,"-").concat((new Date).getTime())},Y=function(e){return e.split("-").shift()},Q=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},X=a(13),Z=a(14),$=a(16),ee=a(15),te=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(e){return Object(X.a)(this,a),t.call(this,e)}return Object(Z.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.caseNumber,n=W.landing,i=w;return r.a.createElement("div",{className:i.page},r.a.createElement("h3",{className:i.title},n.title),r.a.createElement("div",{className:i.logo}),r.a.createElement("h3",{className:i.caseTitle},n.caseTitle(t)),r.a.createElement("h3",{className:i.caseNumber},n.caseNumber(a)),r.a.createElement("h3",{className:i.status},n.status))}}]),a}(r.a.Component),ae=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(e){return Object(X.a)(this,a),t.call(this,e)}return Object(Z.a)(a,[{key:"render",value:function(){var e=this.props,t=e.path,a=e.children,n=G+t;return r.a.createElement("div",{className:"uv","data-config":"","data-uri":n},a)}}]),a}(r.a.Component);function ne(e){var t=e.manifest,a=N,n=!!t&&t.filter((function(e){return"photo"===e.page})).map((function(e,t){return r.a.createElement(ae,{key:t,path:e.path})}));return r.a.createElement("div",{className:a.page},r.a.createElement("div",{className:a.title},r.a.createElement("h3",null,W.photoEvidenceTitle),r.a.createElement("h3",null,W.photoEvidenceSubtitle)),n)}function ie(e){var t=e.list.map((function(e,t){return r.a.createElement("p",{key:t,className:p.referenceList.reference},e)}));return r.a.createElement("div",{className:p.referenceList.list},t)}var re="_type",oe="_subtype",le="_description",se="_normalcy",ce="_forces",ue="_frequency";function me(e){var t=function(e){var t=[];for(var o in e){var l=e[o],s=L[o];if(s&&(t.push(r.a.createElement("p",{key:J(),className:v},s)),Object(M.isArray)(l))){var c=l.every((function(e){return Object(M.isString)(e)})),u=l.every((function(e){return Object(M.isPlainObject)(e)}));c&&(l.length>1?t.push(n(l)):t.push(a(l[0]))),u&&t.push(i(l,o))}}return t},a=function(e){return r.a.createElement("p",{key:J(),className:_},Q(e))},n=function(e){for(var t=[],a=0;a<e.length;a++)t.push(r.a.createElement("li",{key:a,className:E},Q(e[a])));return r.a.createElement("ul",{key:J(),className:j},t)},i=function(e,t){for(var a=[],n=0;n<e.length;n++){var i=Object.keys(e[n]),r=t+re,l=t+le,s=[e[n][t+oe],e[n][t+se],e[n][t+ce],e[n][t+ue]].filter((function(e){return void 0!==e})),c=i.includes(r)?e[n][r]:"",u=0!==s.length?s.join(", "):"",m=i.includes(l)?e[n][l]:"";a.push(o(c,u,m))}return a},o=function(e,t,a){return t=t?" (".concat(Q(t),")"):"",a=a?": ".concat(Q(a)):"",r.a.createElement("p",{key:J(),className:_},Q(e),t,a)},l=e.recordData,s=e.showViewer,c=void 0===s||s,u=l.manifest,m=l.reference,d=l.object&&l.object.name,p=function(e){var a=[],n=function(e){var t=Object(B.a)({},K),a=Object.keys(e);for(var n in t)a.includes(n)||delete t[n];return t}(e);for(var i in n){var o=e[i],l=t(o);l.length>0&&a.push(r.a.createElement("div",{key:J(),className:b},r.a.createElement("div",{className:y},i),r.a.createElement("div",{className:f},l)))}return a}(l),x=!!m&&r.a.createElement(ie,{list:m}),C=!(!c||!u)&&u.filter((function(e){return"record"===e.page})).map((function(e,t){return r.a.createElement(ae,{key:t,path:e.path})}));return r.a.createElement("div",{className:h},r.a.createElement("h3",{className:g},d),p,x,C)}function de(e){var t=e.manifest,a=e.recordData,n=T,i=!!t&&t.filter((function(e){return"background"===e.page})).map((function(e,t){return r.a.createElement(ae,{key:t,path:e.path})}));return r.a.createElement("div",{className:n.page},r.a.createElement("div",{className:n.title},r.a.createElement("h3",null,W.backgroundResearchTitle),r.a.createElement("h3",null,W.backgroundResearchSubtitle)),r.a.createElement(me,{showViewer:!1,recordData:a}),i)}var pe=a(86),he={object:{feature:["Lip","Groove","Fillet","Ridge","Notch","Hole"]},material:{class:["Metals and alloys","Glasses and ceramics","Polymers","Composites","Natural materials","Other"],class_subtype:["Glass","Non-technical ceramic","Technical ceramic","Ferrous metal","Non-ferrous metal","Precious metal","Rare earth metal","Refractory metal","Elastomer","Thermoplastic","Thermoset plastic","Other"],crystallinity:["Crystalline","Semi-crystalline","Amorphous"]},processing:{treatment:["Surface","Bulk"],treatment_subtype:["Boronizing","Bluing","Anodizing","Carburizing","Decarburizing","Stress","Heat","Polishing","Texturing","Plating","Metallizing","Chromizing","Painting","Printing","Quench","Age hardening","Temper","Normalizing"],shaping:["Casting","Molding","Deformation","Composite forming","Powder","Special methods"],shaping_subtype:["Sand","Die","Investment","Injection","Compression","Blow molding","Rolling","Forging","Drawing","Sintering","HIPing","Slip casting","Hand layup","Filament winding","Resin transfer","Rapid prototype","Layup","Electroform"],joining:["Welding","Heat bonding","Adhesives","Cements","Fastening","Bolting","Riveting","Snap fits","Friction bond"],machining:["Cut","Turn","Plane","Drill","Grind"],residual_stress:["Structural flaw","Temperature variation","Phase transformation","Non-uniform plastic deformation"],residual_stress_force:["Tensile forces","Compressive forces"]},environment:{light_exposure:["Natural","Artificial"],ambient:["Central heating","Ventilation","Air conditioning","Moisture","Temperature variations"],loading_normalcy:["Normal","Abnormal"],loading:["Axial","Bending","Tortional","Dynamic","Tensile mean","Compressive mean","Cyclic","Suddenly applied","Impact","Fatigue"],weather_exposure:["Sun","Wind","Rain","Ice","Snow"],storage_location:["Indoor","Outdoor"]},use:{specification:["Service","Maintenance"],record:["Maintenance","Inspection"],operation:["Intended","Actual"],operational_factor:["Temperature levels","Speed","Pressure","Moisture levels"]}},ge={class:[{name:"class",foreignKeys:he.material.class},{name:"class_subtype",foreignKeys:he.material.class_subtype}],treatment:[{name:"treatment",foreignKeys:he.processing.treatment},{name:"treatment_subtype",foreignKeys:he.processing.treatment_subtype}],shaping:[{name:"shaping",foreignKeys:he.processing.shaping},{name:"shaping_subtype",foreignKeys:he.processing.shaping_subtype}],residual_stress:[{name:"residual_stress",foreignKeys:he.processing.residual_stress},{name:"residual_stress_force",foreignKeys:he.processing.residual_stress_force}],loading:[{name:"loading",foreignKeys:he.environment.loading},{name:"loading_normalcy",foreignKeys:he.environment.loading_normalcy}]},be=a(216),fe=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(e){return Object(X.a)(this,a),t.call(this,e)}return Object(Z.a)(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.value,n=e.handleTextAreaChange,i=e.labelVisibility,o=(W.fieldPrompts,P),l="".concat(o.title," ").concat(i);return r.a.createElement("div",{className:o.textarea},r.a.createElement("label",{className:l},W.note),r.a.createElement("textarea",{className:o.textareaInput,name:t,onChange:n,defaultValue:a}))}}]),a}(r.a.Component),ye=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(e){return Object(X.a)(this,a),t.call(this,e)}return Object(Z.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.children,n=e.visibility,i=P,o="".concat(i.module," ").concat(n);return r.a.createElement("div",{className:o},r.a.createElement("p",{className:i.title},t),a)}}]),a}(r.a.Component),ve=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(e){return Object(X.a)(this,a),t.call(this,e)}return Object(Z.a)(a,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.name,n=e.foreignKeys,i=e.handleCheckboxChange,o=P,l=n.map((function(e){var n=t.get(e);return r.a.createElement("div",{key:J(),className:o.checkbox},r.a.createElement("label",{className:o.optionLabel},e),r.a.createElement("input",{className:o.checkboxInput,type:"checkbox",name:a,value:e,checked:n,onChange:i}))}));return r.a.createElement("div",{className:o.checkboxGroup},l)}}]),a}(r.a.Component),_e=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(e){return Object(X.a)(this,a),t.call(this,e)}return Object(Z.a)(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.value,n=void 0===a?"":a,i=e.prompts,o=e.handleChange,l=(W.fieldPrompts.object,P),s=k,c=s.on,u=s.off,m=i.length>0?c:u,d="".concat(l.additionalPrompt," ").concat(m),p=i.map((function(e){return r.a.createElement(ye,{key:J(),title:e,visibility:c})}));return r.a.createElement("div",{className:d},p,r.a.createElement(fe,{name:t,value:n,labelVisibility:c,handleTextAreaChange:o}))}}]),a}(r.a.Component),Ee=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(e){return Object(X.a)(this,a),t.call(this,e)}return Object(Z.a)(a,[{key:"render",value:function(){var e=this.props,t=e.state,a=e.visibility,n=e.additionalPrompts,i=e.handleModuleChange,o=W.fieldPrompts.object,l=P,s=k,c=[].concat(Object(be.a)(n),[W.additionalPrompts.fractography]);return r.a.createElement("div",{className:l.object},r.a.createElement("div",{className:l.header},K.object),r.a.createElement(ye,{title:o.rating,visibility:s[a.rating]},r.a.createElement(fe,{name:"rating",value:t.rating,labelVisibility:s.off,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.inscription,visibility:s[a.inscription]},r.a.createElement(fe,{name:"inscription",value:t.inscription,labelVisibility:s.off,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.serial_number,visibility:s[a.serial_number]},r.a.createElement(fe,{name:"serial_number",value:t.serial_number,labelVisibility:s.off,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.feature,visibility:s[a.feature]},r.a.createElement(ve,{name:"feature",value:t.feature,handleCheckboxChange:i,foreignKeys:he.object.feature}),r.a.createElement(fe,{name:"feature_note",value:t.feature_note,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(_e,{name:"object",value:t.additionalPromptText,prompts:c,handleChange:i}))}}]),a}(r.a.Component),je=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(e){return Object(X.a)(this,a),t.call(this,e)}return Object(Z.a)(a,[{key:"render",value:function(){var e=this.props,t=e.statekey,a=void 0===t?"":t,n=e.mapkey,i=void 0===n?"":n,o=e.name,l=e.value,s=e.foreignKeys,c=e.handleRadioGroupChange;o="".concat(o,"-").concat(J());var u=P,m=s.map((function(e){var t=l===e;return r.a.createElement("div",{key:J(),className:u.radio},r.a.createElement("label",{className:u.optionLabel},e),r.a.createElement("input",{type:"radio",className:u.radioInput,name:o,value:e,statekey:a,mapkey:i,defaultChecked:t,onChange:c}))}));return r.a.createElement("div",{className:u.radioGroup},m)}}]),a}(r.a.Component);function xe(e){var t=e.statekey,a=e.buttonName,n=e.pairedData,i=e.pairedRadioGroup,o=e.handleChange,l=[],s=P;return i.forEach((function(e,a){l.push(r.a.createElement("div",{className:s.pairedRadioGroup,key:J()},r.a.createElement(je,{mapkey:a,statekey:t,name:n[0].name,value:e[n[0].name],foreignKeys:n[0].foreignKeys,handleRadioGroupChange:o}),r.a.createElement(je,{mapkey:a,statekey:t,name:n[1].name,value:e[n[1].name],foreignKeys:n[1].foreignKeys,handleRadioGroupChange:o})))})),r.a.createElement("div",null,l,r.a.createElement("button",{className:s.button,type:"button",name:a,statekey:t,onClick:o},W.add))}var Ce=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(e){return Object(X.a)(this,a),t.call(this,e)}return Object(Z.a)(a,[{key:"render",value:function(){var e=this.props,t=e.state,a=e.visibility,n=e.additionalPrompts,i=e.handleModuleChange,o=W.fieldPrompts.material,l=P,s=k;return r.a.createElement("div",{className:l.material},r.a.createElement("div",{className:l.header},K.material),r.a.createElement(ye,{title:o.full_name,visibility:s[a.full_name]},r.a.createElement(fe,{name:"full_name",value:t.full_name,labelVisibility:s.off,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.class,visibility:s[a.class]},r.a.createElement(xe,{statekey:"class",buttonName:"class_button",pairedRadioGroup:t.class,pairedData:ge.class,handleChange:i}),r.a.createElement(fe,{name:"class_note",value:t.class_note,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.crystallinity,visibility:s[a.crystallinity]},r.a.createElement(je,{name:"crystallinity",value:t.crystallinity,foreignKeys:he.material.crystallinity,handleRadioGroupChange:i}),r.a.createElement(fe,{name:"crystallinity_note",value:t.crystallinity_note,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.alloy_designation,visibility:s[a.alloy_designation]},r.a.createElement(fe,{name:"alloy_designation",value:t.alloy_designation,labelVisibility:s.off,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.grade,visibility:s[a.grade]},r.a.createElement(fe,{name:"grade",value:t.grade,labelVisibility:s.off,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.recyclability,visibility:s[a.recyclability]},r.a.createElement(fe,{name:"recyclability",value:t.recyclability,labelVisibility:s.off,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.biodegradability,visibility:s[a.biodegradability]},r.a.createElement(fe,{name:"biodegradability",value:t.biodegradability,labelVisibility:s.off,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.toxicity,visibility:s[a.toxicity]},r.a.createElement(fe,{name:"toxicity",value:t.toxicity,labelVisibility:s.off,handleTextAreaChange:i})),r.a.createElement(_e,{name:"material",value:t.additionalPromptText,prompts:n,handleChange:i}))}}]),a}(r.a.Component),ke=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(e){return Object(X.a)(this,a),t.call(this,e)}return Object(Z.a)(a,[{key:"render",value:function(){var e=this.props,t=e.state,a=e.visibility,n=e.additionalPrompts,i=e.handleModuleChange,o=W.fieldPrompts.processing,l=P,s=k;return r.a.createElement("div",{className:l.processing},r.a.createElement("div",{className:l.header},K.processing),r.a.createElement(ye,{title:o.treatment,visibility:s[a.treatment]},r.a.createElement(xe,{statekey:"treatment",buttonName:"treatment_button",pairedRadioGroup:t.treatment,pairedData:ge.treatment,handleChange:i}),r.a.createElement(fe,{name:"treatment_note",value:t.treatment_note,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.shaping,visibility:s[a.shaping]},r.a.createElement(xe,{statekey:"shaping",buttonName:"shaping_button",pairedRadioGroup:t.shaping,pairedData:ge.shaping,handleChange:i}),r.a.createElement(fe,{name:"shaping_note",value:t.shaping_note,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.residual_stress,visibility:s[a.residualStress]},r.a.createElement(xe,{statekey:"residual_stress",buttonName:"residual_stress_button",pairedRadioGroup:t.residual_stress,pairedData:ge.residual_stress,handleChange:i}),r.a.createElement(fe,{name:"residual_stress_note",value:t.residual_stress_note,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.machining,visibility:s[a.machining]},r.a.createElement(ve,{name:"machining",value:t.machining,handleCheckboxChange:i,foreignKeys:he.processing.machining}),r.a.createElement(fe,{name:"machining_note",value:t.machining_note,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.joining,visibility:s[a.joining]},r.a.createElement(ve,{name:"joining",value:t.joining,handleCheckboxChange:i,foreignKeys:he.processing.joining}),r.a.createElement(fe,{name:"joining_note",value:t.joining_note,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.manufacturer,visibility:s[a.manufacturer]},r.a.createElement(fe,{name:"manufacturer",value:t.manufacturer,labelVisibility:s.off,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.date,visibility:s[a.date]},r.a.createElement(fe,{name:"date",value:t.date,labelVisibility:s.off,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.location,visibility:s[a.location]},r.a.createElement(fe,{name:"location",value:t.location,labelVisibility:s.off,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.plant,visibility:s[a.plant]},r.a.createElement(fe,{name:"plant",value:t.plant,labelVisibility:s.off,handleTextAreaChange:i})),r.a.createElement(_e,{name:"processing",value:t.additionalPromptText,prompts:n,handleChange:i}))}}]),a}(r.a.Component),Oe=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(e){return Object(X.a)(this,a),t.call(this,e)}return Object(Z.a)(a,[{key:"render",value:function(){var e=this.props,t=e.state,a=e.visibility,n=e.additionalPrompts,i=e.handleModuleChange,o=W.fieldPrompts.environment,l=P,s=k;return r.a.createElement("div",{className:l.environment},r.a.createElement("div",{className:l.header},K.environment),r.a.createElement(ye,{title:o.light_exposure,visibility:s[a.light_exposure]},r.a.createElement(ve,{name:"light_exposure",value:t.light_exposure,handleCheckboxChange:i,foreignKeys:he.environment.light_exposure}),r.a.createElement(fe,{name:"light_exposure_note",value:t.light_exposure_note,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.ambient,visibility:s[a.ambient]},r.a.createElement(ve,{name:"ambient",value:t.ambient,handleCheckboxChange:i,foreignKeys:he.environment.ambient}),r.a.createElement(fe,{name:"ambient_note",value:t.ambient_note,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.weather_exposure,visibility:s[a.weather_exposure]},r.a.createElement(ve,{name:"weather_exposure",value:t.weather_exposure,handleCheckboxChange:i,foreignKeys:he.environment.weather_exposure}),r.a.createElement(fe,{name:"weather_exposure_note",value:t.weather_exposure_note,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.storage_location,visibility:s[a.storage_location]},r.a.createElement(ve,{name:"storage_location",value:t.storage_location,handleCheckboxChange:i,foreignKeys:he.environment.storage_location}),r.a.createElement(fe,{name:"storage_location_note",value:t.storage_location_note,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.geographic_location,visibility:s[a.geographic_location]},r.a.createElement(fe,{name:"geographic_location",value:t.geographic_location,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.stress_orientation,visibility:s[a.interaction_stress]},r.a.createElement(fe,{name:"stress_orientation",value:t.stress_orientation,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.loading,visibility:s[a.interaction_loading]},r.a.createElement(xe,{statekey:"loading",buttonName:"loading_button",pairedRadioGroup:t.loading,pairedData:ge.loading,handleChange:i}),r.a.createElement(fe,{name:"loading_note",value:t.loading_note,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(_e,{name:"environment",value:t.additionalPromptText,prompts:n,handleChange:i}))}}]),a}(r.a.Component),we=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(e){return Object(X.a)(this,a),t.call(this,e)}return Object(Z.a)(a,[{key:"render",value:function(){var e=this.props,t=e.state,a=e.visibility,n=e.additionalPrompts,i=e.handleModuleChange,o=W.fieldPrompts.use,l=P,s=k;return r.a.createElement("div",{className:l.use},r.a.createElement("div",{className:l.header},K.use),r.a.createElement(ye,{title:o.specification,visibility:s[a.specification]},r.a.createElement(ve,{name:"specification",value:t.specification,handleCheckboxChange:i,foreignKeys:he.use.specification}),r.a.createElement(fe,{name:"specification_note",value:t.light_exposure_note,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.record,visibility:s[a.record]},r.a.createElement(ve,{name:"record",value:t.record,handleCheckboxChange:i,foreignKeys:he.use.record}),r.a.createElement(fe,{name:"record_note",value:t.ambient_note,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.operation,visibility:s[a.operation]},r.a.createElement(ve,{name:"operation",value:t.operation,handleCheckboxChange:i,foreignKeys:he.use.operation}),r.a.createElement(fe,{name:"operation_note",value:t.weather_exposure_note,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.operational_factor,visibility:s[a.operational_factor]},r.a.createElement(ve,{name:"operational_factor",value:t.operational_factor,handleCheckboxChange:i,foreignKeys:he.use.operational_factor}),r.a.createElement(fe,{name:"operational_factor_note",value:t.operational_factor_note,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.functionality_loss,visibility:s[a.functionality_loss]},r.a.createElement(fe,{name:"functionality_loss",value:t.functionality_loss,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.problem_statement,visibility:s[a.problem_statement]},r.a.createElement(fe,{name:"problem_statement",value:t.problem_statement,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.failure_time,visibility:s[a.failure_time]},r.a.createElement(fe,{name:"failure_time",value:t.failure_time,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.failure_operation_stage,visibility:s[a.failure_operation_stage]},r.a.createElement(fe,{name:"failure_operation_stage",value:t.failure_operation_stage,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(ye,{title:o.operator,visibility:s[a.operator]},r.a.createElement(fe,{name:"operator",value:t.operator,labelVisibility:s.on,handleTextAreaChange:i})),r.a.createElement(_e,{name:"use",value:t.additionalPromptText,prompts:n,handleChange:i}))}}]),a}(r.a.Component),Ne=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(e){var n;return Object(X.a)(this,a),(n=t.call(this,e)).state={rating:"",inscription:"",serial_number:"",feature:new Map,feature_note:"",full_name:"",class:new Map([["0",{class:"",class_subtype:""}]]),class_note:"",crystallinity:"",crystallinity_note:"",alloy_designation:"",grade:"",recyclability:"",biodegradability:"",toxicity:"",machining:new Map,machining_note:"",joining:new Map,joining_note:"",manufacturer:"",date:"",location:"",plant:"",treatment:new Map([["0",{treatment:"",treatment_subtype:""}]]),treatment_note:"",shaping:new Map([["0",{shaping:"",shaping_subtype:""}]]),shaping_note:"",residual_stress:new Map([["0",{residual_stress:"",residual_stress_force:""}]]),residual_stress_note:"",light_exposure:new Map,light_exposure_note:"",ambient:new Map,ambient_note:"",loading:new Map([["0",{loading:"",loading_normalcy:""}]]),loading_note:"",weather_exposure:new Map,weather_exposure_note:"",storage_location:new Map,storage_location_note:"",geographic_location:"",stress_orientation:"",specification:new Map,specification_note:"",record:new Map,record_note:"",operation:new Map,operation_note:"",operational_factor:new Map,operational_factor_note:"",functionality_loss:"",problem_statement:"",failure_time:"",failure_operation_stage:"",operator:"",additionalPromptText:new Map},n.handleModuleChange=n.handleModuleChange.bind(Object(pe.a)(n)),n.downloadState=n.downloadState.bind(Object(pe.a)(n)),n}return Object(Z.a)(a,[{key:"downloadState",value:function(){var e=function(e){var t=H,a=z,n="";for(var i in e){var r=e[i];if(Object(M.isString)(r)&&r){var o="",l=i.split("_"),s=l.length-1;o="".concat(L[i],": ").concat(r," \n"),"note"===l[s]&&(o="Notes: ".concat(r," \n")),n+=o}if(r.constructor===Map){if(t.includes(i)&&function(){var e=[];r.forEach((function(t,a){return!!t&&e.push(a)})),e.length>0&&(n+="".concat(L[i],": ").concat(e.join(", ")," \n"))}(),a.includes(i)){var c="";Array.from(r.values()).forEach((function(e){var t=Object.keys(e);e[t[0]]&&e[t[1]]&&(c+="".concat(e[t[0]],": ").concat(e[t[1]]," \n"))})),c&&(n+="".concat(L[i]," \n").concat(c))}if("additionalPromptText"===i){var u="";r.forEach((function(e,t){e&&(u+="".concat(K[t],": ").concat(e," \n"))})),u&&(n+="Module Notes: \n"+u)}}}return n}(this.state),t=new Blob([e],{type:"text/plain"}),a=document.createElement("a");a.href=URL.createObjectURL(t),a.download="case-study-notes.txt",document.body.appendChild(a),a.addEventListener("click",(function e(){setTimeout((function(){URL.revokeObjectURL(t),a.removeEventListener("click",e)}),150)}),!1),a.click()}},{key:"handleAdditionalPromptChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState((function(e){return{additionalPromptText:e.additionalPromptText.set(n,a)}}))}},{key:"handleGenericChange",value:function(e){var t=e.target.value,a=Y(e.target.name);this.setState(Object(s.a)({},a,t))}},{key:"handleCheckboxChange",value:function(e){var t=e.target,a=t.value,n=t.checked,i=Y(e.target.name);this.setState((function(e){return Object(s.a)({},i,e[i].set(a,n))}))}},{key:"handlePairedRadioGroupChange",value:function(e){var t=e.target.value,a=Y(e.target.name),n=e.target.getAttribute("mapkey"),i=e.target.getAttribute("statekey"),r=this.state[i].get(n)||{};this.setState((function(e){return Object(s.a)({},i,e[i].set(n,Object(B.a)(Object(B.a)({},r),{},Object(s.a)({},a,t))))}))}},{key:"handleButtonClick",value:function(e){var t=e.target.getAttribute("statekey"),a=Array.from(this.state[t].keys()),n=parseInt(a[a.length-1],10);if(!(n>20)){var i=++n+"",r=ge[t].map((function(e){return e.name})).reduce((function(e,t){return e[t]="",e}),{});this.setState((function(e){return Object(s.a)({},t,e[t].set(i,r))}))}}},{key:"handleModuleChange",value:function(e){var t=Y(e.target.name),a=H,n=z,i=U;return q.includes(t)?this.handleAdditionalPromptChange(e):a.includes(t)?this.handleCheckboxChange(e):n.includes(t)?this.handlePairedRadioGroupChange(e):i.includes(t)?this.handleButtonClick(e):void this.handleGenericChange(e)}},{key:"render",value:function(){var e=this.props,t=e.visibility,a=e.additionalPrompts,n={rating:this.state.rating,inscription:this.state.inscription,serial_number:this.state.serial_number,feature:this.state.feature,feature_note:this.state.feature_note,additionalPromptText:this.state.additionalPromptText.get("object")},i={fulle_name:this.state.fulle_name,class:this.state.class,class_note:this.state.class_note,crystallinity:this.state.crystallinity,crystallinity_note:this.state.crystallinity_note,alloy_designation:this.state.alloy_designation,grade:this.state.grade,recyclability:this.state.recyclability,biodegradability:this.state.biodegradability,toxicity:this.state.toxicity,additionalPromptText:this.state.additionalPromptText.get("material")},o={machining:this.state.machining,machining_note:this.state.machining_note,joining:this.state.joining,joining_note:this.state.joining_note,manufacturer:this.state.manufacturer,date:this.state.date,location:this.state.location,plant:this.state.plant,treatment:this.state.treatment,treatment_note:this.state.treatment_note,shaping:this.state.shaping,shaping_note:this.state.shaping_note,residual_stress:this.state.residual_stress,residual_stress_note:this.state.residual_stress_note,additionalPromptText:this.state.additionalPromptText.get("processing")},l={light_exposure:this.state.light_exposure,ambient:this.state.ambient,loading:this.state.loading,weather_exposure:this.state.weather_exposure,storage_location:this.state.storage_location,geographic_location:this.state.geographic_location,stress_orientation:this.state.stress_orientation,additionalPromptText:this.state.additionalPromptText.get("environment")},s={specification:this.state.specification,record:this.state.record,operation:this.state.operation,operational_factor:this.state.operational_factor,operational_factor_note:this.state.operational_factor_note,functionality_loss:this.state.functionality_loss,problem_statement:this.state.problem_statement,failure_time:this.state.failure_time,failure_operation_stage:this.state.failure_operation_stage,operator:this.state.operator,additionalPromptText:this.state.additionalPromptText.get("use")};return r.a.createElement("div",null,r.a.createElement("div",{className:P.page},r.a.createElement(Ee,{state:n,visibility:t.object,additionalPrompts:a.object,handleModuleChange:this.handleModuleChange}),r.a.createElement(Ce,{state:i,visibility:t.material,additionalPrompts:a.material,handleModuleChange:this.handleModuleChange}),r.a.createElement(ke,{state:o,visibility:t.processing,additionalPrompts:a.processing,handleModuleChange:this.handleModuleChange}),r.a.createElement(Oe,{state:l,visibility:t.environment,additionalPrompts:a.environment,handleModuleChange:this.handleModuleChange}),r.a.createElement(we,{state:s,visibility:t.use,additionalPrompts:a.use,handleModuleChange:this.handleModuleChange})),r.a.createElement("div",{className:C.wrapper},r.a.createElement("button",{type:"button",className:C.button,value:"download",onClick:this.downloadState},W.download)))}}]),a}(r.a.Component);function Te(e){var t=e.visibility,a=e.studyData,n=a.manifest,o=Object(i.useState)(0),l=Object(d.a)(o,2),s=l[0],c=l[1],u=Object(i.useState)(k.on),m=Object(d.a)(u,2),p=m[0],h=m[1],g=Object(i.useState)(k.off),b=Object(d.a)(g,2),f=b[0],y=b[1],v=function(e){var t,a=k.on,n=k.on,i=e.target.value,r=W.pages.length-1;"prev"===i&&(t=s-1),"next"===i&&(t=s+1),t<=0&&(t=0,n=k.off),t>=r&&(t=r,a=k.off),c(t),h(a),y(n)},_=a.object&&a.object.name,E=a.object&&a.object.object_id,j=function(e){var t={};for(var a in K){var n=[];e[a]&&e[a].additional_prompt&&(n=e[a].additional_prompt),t[a]=n}return t}(a),C=W.pages.map((function(e,t){return s===t?k.on:k.off})),A="".concat(C[0]," ").concat(w.wrapper),S="".concat(C[1]," ").concat(N.wrapper),M="".concat(C[2]," ").concat(T.wrapper),V="".concat(C[3]," ").concat(P.wrapper),R="".concat(O.prev," ").concat(f),D="".concat(O.next," ").concat(p);return r.a.createElement("div",null,r.a.createElement("div",{className:x},r.a.createElement("div",{className:A},r.a.createElement(te,{title:_,caseNumber:E})),r.a.createElement("div",{className:S},r.a.createElement(ne,{manifest:n})),r.a.createElement("div",{className:M},r.a.createElement(de,{manifest:n,recordData:a})),r.a.createElement("div",{className:V},r.a.createElement(Ne,{additionalPrompts:j,visibility:t}))),r.a.createElement("div",{className:O.page},r.a.createElement("button",{type:"button",className:D,value:"next",onClick:v},W.next),r.a.createElement("button",{type:"button",className:R,value:"prev",onClick:v},W.prev)))}function Pe(e){var t=e.id,a=Object(i.useState)("on"),n=Object(d.a)(a,2),o=n[0],l=n[1],s=Object(i.useState)({}),c=Object(d.a)(s,2),h=c[0],g=c[1],b=Object(i.useState)({}),f=Object(d.a)(b,2),y=f[0],v=f[1];Object(i.useEffect)((function(){j()}),[]);var _=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.get("/api/visibility/prompt",{params:{id:t}}).then((function(e){return e.data})).catch((function(e){console.error("Error getting prompt visibility: ".concat(e))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/visibility/field",{params:{id:t}}).then((function(e){return e.data})).catch((function(e){console.error("Error getting field visibility: ".concat(e))}));case 2:return a=e.sent,e.abrupt("return",S.a.get("/api/study",{params:{id:t,visibleTables:a}}).then((function(e){return e.data})).catch((function(e){console.error("Error getting case study fields: ".concat(e))})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:return t=e.sent,e.next=5,E();case 5:a=e.sent,g(t),v(a),l("off");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x="".concat(p.visibility[o]," ").concat(p.loading),C=!(!Object.keys(h).length||!Object.keys(y).length)&&r.a.createElement(Te,{visibility:h,studyData:y});return r.a.createElement("div",null,r.a.createElement("p",{className:x},"Loading. Please wait..."),C)}function Ae(e){var t=e.id,a=Object(i.useState)("on"),n=Object(d.a)(a,2),o=n[0],l=n[1],s=Object(i.useState)({}),c=Object(d.a)(s,2),h=c[0],g=c[1];Object(i.useEffect)((function(){b()}),[]);var b=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.a.get("/api/record",{params:{id:t}}).then((function(e){var t=e.data;g(t),l("off")})).catch((function(e){console.error("Error getting record fields: ".concat(e))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f="".concat(p.visibility[o]," ").concat(p.loading),y=!!Object.keys(h).length&&r.a.createElement(me,{recordData:h});return r.a.createElement("div",null,r.a.createElement("p",{className:f},"Loading. Please wait..."),y)}var Se=a(23);function Me(){var e=!1,t=Object(Se.f)(),a=t.page,n=void 0===a?"record":a,i=t.id;return"case-study"===n&&(e=r.a.createElement(Pe,{id:i})),"record"===n&&(e=r.a.createElement(Ae,{id:i})),e}function Ve(){var e;return r.a.createElement(I.a,{basename:"".concat("/material-failures-database","/")},r.a.createElement("div",null,r.a.createElement(Se.c,null,r.a.createElement(Se.a,(e={exact:!0,path:"/"},Object(s.a)(e,"exact",!0),Object(s.a)(e,"component",F),e)),r.a.createElement(Se.a,{path:"/:page/:id",exact:!0,component:Me}))))}l.a.render(r.a.createElement(r.a.StrictMode,null," ",r.a.createElement(Ve,null)," "),document.getElementById("root"))}},[[217,1,2]]]);
//# sourceMappingURL=main.219d93cf.chunk.js.map